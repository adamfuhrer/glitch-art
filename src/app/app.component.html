<div class="art" id="art" [style.background]="isDirectionVertical ? getBackgroundGradient(gradient, 'bottom') : getBackgroundGradient(gradient, 'right')">
  <div *ngFor="let line of lines; let i = index" class="line"
       [style.height]="isDirectionHorizontal ? getLineHeight(i) : null"
       [style.width]="isDirectionVertical ? getLineHeight(i) : null"
       [style.background]="isDirectionVertical ? getBackgroundGradient(gradient, 'bottom') : getBackgroundGradient(gradient, 'right')"
       [style.transform]="line.transform"
       [style.order]="line.order"
       [style.border-radius]="isRoundBorder ? '1000px' : '0'"></div>
  <div class="empty" *ngIf="gradient.length === 0">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" viewBox="0 0 24 24">
      <path d="M17.5 12A1.5 1.5 0 0 1 16 10.5 1.5 1.5 0 0 1 17.5 9 1.5 1.5 0 0 1 19 10.5 1.5 1.5 0 0 1 17.5 12M14.5 8A1.5 1.5 0 0 1 13 6.5 1.5 1.5 0 0 1 14.5 5 1.5 1.5 0 0 1 16 6.5 1.5 1.5 0 0 1 14.5 8M9.5 8A1.5 1.5 0 0 1 8 6.5 1.5 1.5 0 0 1 9.5 5 1.5 1.5 0 0 1 11 6.5 1.5 1.5 0 0 1 9.5 8M6.5 12A1.5 1.5 0 0 1 5 10.5 1.5 1.5 0 0 1 6.5 9 1.5 1.5 0 0 1 8 10.5 1.5 1.5 0 0 1 6.5 12M12 3A9 9 0 0 0 3 12 9 9 0 0 0 12 21 1.5 1.5 0 0 0 13.5 19.5C13.5 19.11 13.35 18.76 13.11 18.5 12.88 18.23 12.73 17.88 12.73 17.5A1.5 1.5 0 0 1 14.23 16H16A5 5 0 0 0 21 11C21 6.58 16.97 3 12 3Z"/>
    </svg>
    <span class="label">Add a color to the gradient to get started.</span>
  </div>
</div>
<div class="options">
  <button class="generate" (click)="generateLines()">GENERATE</button>
  <div class="download">
    <div class="download-icon">
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" x="0" y="0" viewBox="0 0 512 512" xml:space="preserve" enable-background="new 0 0 512 512">
        <path d="M382.56 233.38C379.97 227.65 374.27 224 368 224h-64V16c0-8.83-7.17-16-16-16h-64c-8.83 0-16 7.17-16 16v208h-64c-6.27 0-11.97 3.68-14.56 9.38 -2.62 5.73-1.6 12.42 2.53 17.15l112 128c3.04 3.49 7.42 5.47 12.03 5.47 4.61 0 8.99-2.02 12.03-5.47l112-128C384.19 245.82 385.15 239.1 382.56 233.38z"/>
        <path d="M432 352v96H80v-96H16v128c0 17.7 14.34 32 32 32h416c17.7 0 32-14.3 32-32V352H432z"/>
      </svg>
    </div>
    <button class="save" title="Phone" (click)="onPhoneClick()">
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Layer_1" x="0" y="0" viewBox="0 0 24 24" xml:space="preserve" enable-background="new 0 0 24 24">
        <path d="M16.5 0.1h-9c-1.1 0-2 0.9-2 2v19.8c0 1.1 0.9 2 2 2h9c1.1 0 2-0.9 2-2V2.1C18.5 1 17.6 0.1 16.5 0.1zM17.4 21.9c0 0.5-0.4 0.8-0.8 0.8h-9c-0.5 0-0.8-0.4-0.8-0.8V2.1c0-0.5 0.4-0.8 0.8-0.8h1.4c0.2 0 0.3 0.1 0.3 0.3C9.2 2 9.6 2.4 10 2.4h4c0.5 0 0.8-0.4 0.8-0.8 0-0.2 0.1-0.3 0.3-0.3h1.4c0.5 0 0.8 0.4 0.8 0.8V21.9z"/>
      </svg>
    </button>
    <button class="save tablet" title="Tablet" (click)="onTabletClick()">
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Layer_1" x="0" y="0" viewBox="0 0 24 24" xml:space="preserve" enable-background="new 0 0 24 24">
        <path d="M0.5 4.8v14.3c0 0.7 0.6 1.3 1.3 1.3h20.4c0.7 0 1.3-0.6 1.3-1.3V4.8c0-0.7-0.6-1.3-1.3-1.3H1.8C1.1 3.5 0.5 4.1 0.5 4.8zM22.7 11.9c0 0.4-0.3 0.8-0.8 0.8 -0.4 0-0.8-0.3-0.8-0.8s0.3-0.8 0.8-0.8C22.4 11.2 22.7 11.5 22.7 11.9zM20.2 5c0.1 0 0.3 0.1 0.3 0.3v13.3c0 0.1-0.1 0.3-0.3 0.3H3.8c-0.1 0-0.3-0.1-0.3-0.3V5.3C3.6 5.1 3.7 5 3.8 5H20.2z"/>
      </svg>
    </button>
    <button class="save desktop" title="Desktop" (click)="onDesktopClick()">
      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Layer_1" x="0" y="0" viewBox="0 0 24 24" xml:space="preserve" enable-background="new 0 0 24 24">
        <path d="M20.9 1.9H3.1c-0.9 0-1.6 0.7-1.6 1.6v12.9c0 0.9 0.7 1.6 1.6 1.6h6.5v2.4H7.2V22h9.7v-1.6h-2.4V18h6.5c0.9 0 1.6-0.7 1.6-1.6V3.5C22.5 2.6 21.8 1.9 20.9 1.9zM20.9 15.6H3.1V3.5h17.8L20.9 15.6 20.9 15.6z"/>
      </svg>
    </button>
  </div>
</div>
<div class="panel" data-html2canvas-ignore="true">
  <div class="panel-wrapper">
    <div class="gradient-wrapper">
      <div class="title">Glitch Art Generator</div>
      <div class="colors">
        <app-color-picker *ngFor="let color of gradient; let i = index; trackBy: trackColor"
                          [color]="color"
                          (colorChange)="onColorPickerChange($event, i)"
                          (removeClicked)="onColorRemoveClick(i)">
        </app-color-picker>
        <div class="new-color-wrapper">
          <button class="new-color" (click)="onNewColorClick()">
            <svg height="448pt" viewBox="0 0 448 448" width="448pt" xmlns="http://www.w3.org/2000/svg"><path d="m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"/></svg>
          </button>
        </div>
      </div>
      <div class="preview" *ngIf="gradient.length >= 1" [style.background]="getBackgroundGradient(gradient)"></div>
      <button class="about-button" (click)="setIsAboutVisible(true)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" view-box="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-line-join="round" class="feather feather-help-circle">
          <circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
      </button>
      <div *ngIf="isAboutVisible" class="about-section" (appClickOutside)="setIsAboutVisible(false)">
        <div>
          A gradient glitch art generator with options to save generated art as a JPEG
        </div>
        <div>
          Project by <a href="https://adamfuhrer.com/" target="_blank">Adam Fuhrer</a>
        </div>
        <div>
          Other projects:
          <a href="https://glitchyimage.com/" target="_blank" class="project-link">
            ðŸ–¼ glitchyimage.com
          </a>
          <a href="https://colors.lol/" target="_blank" class="project-link">
            <img src="assets/images/lol-favicon.png" alt="colors.lol">
            colors.lol
          </a>
        </div>
        <div>
          <a class="github" href="https://github.com/adamfuhrer/glitchart.io" target="_blank">
            <svg id="Bold" enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg">
              <path d="m12 .5c-6.63 0-12 5.28-12 11.792 0 5.211 3.438 9.63 8.205 11.188.6.111.82-.254.82-.567 0-.28-.01-1.022-.015-2.005-3.338.711-4.042-1.582-4.042-1.582-.546-1.361-1.335-1.725-1.335-1.725-1.087-.731.084-.716.084-.716 1.205.082 1.838 1.215 1.838 1.215 1.07 1.803 2.809 1.282 3.495.981.108-.763.417-1.282.76-1.577-2.665-.295-5.466-1.309-5.466-5.827 0-1.287.465-2.339 1.235-3.164-.135-.298-.54-1.497.105-3.121 0 0 1.005-.316 3.3 1.209.96-.262 1.98-.392 3-.398 1.02.006 2.04.136 3 .398 2.28-1.525 3.285-1.209 3.285-1.209.645 1.624.24 2.823.12 3.121.765.825 1.23 1.877 1.23 3.164 0 4.53-2.805 5.527-5.475 5.817.42.354.81 1.077.81 2.182 0 1.578-.015 2.846-.015 3.229 0 .309.21.678.825.56 4.801-1.548 8.236-5.97 8.236-11.173 0-6.512-5.373-11.792-12-11.792z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
    <div class="controls" #controls>
      <div class="input-wrapper">
        <div class="label">Sample gradients</div>
        <div class="sample-gradients">
          <div class="gradient"
               *ngFor="let sample of sampleGradients"
               [style.background]="getBackgroundGradient(sample)"
               (click)="onSampleClick(sample)"></div>
        </div>
      </div>

      <div class="input-wrapper">
        <div class="label">Amount of glitches</div>
        <mat-slider thumbLabel
                    min="0"
                    max="100"
                    [value]="amountOfLines"
                    (change)="onAmountOfLinesChange($event)">
        </mat-slider>
      </div>

      <div class="input-wrapper">
        <div class="label">Distance from center</div>
        <mat-slider thumbLabel
                    min="0"
                    max="100"
                    [value]="translateAmount"
                    (change)="onTranslateChange($event)">
        </mat-slider>
      </div>

      <div class="input-wrapper">
        <div class="label">Direction</div>
        <mat-radio-group (change)="onDirectionChange($event)">
          <mat-radio-button *ngFor="let radio of directions; let i = index" [value]="radio.name" [checked]="i === 0">{{radio.name}}</mat-radio-button>
        </mat-radio-group>
      </div>

      <div class="input-wrapper">
        <div class="label">Corners</div>
        <mat-radio-group (change)="onCornerChange($event)">
          <mat-radio-button *ngFor="let radio of corners; let i = index" [value]="radio.name" [checked]="i === 0">{{radio.name}}</mat-radio-button>
        </mat-radio-group>
      </div>
    </div>
  </div>
</div>
